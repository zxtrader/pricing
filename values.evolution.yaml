environment: evolution

docker:
  cpservice:
    migrationImage: devdocker.infra.kube/cryptopay/cpservice-migration
    serviceImage: devdocker.infra.kube/cryptopay/cpservice-devel
    tag: latest,
    cmd:
      [
        "--config-file=/etc/cexiolabs/cryptopay.service/service.config",
        "--config-secrets-dir=/etc/cexiolabs/cryptopay/secrets",
        "--config-env",
      ]
    cmdbin: "aggrless"

ingress:
  API:
    type: internal
    domain: api-evolution-cryptopay.dev.kube
    certSecretName: dev
    # API does not require client's certificate
    #backendCaSecretName:
    backendServiceName: cpservice
    backendServicePort: 8080
  SysAdmin:
    type: internal
    domain: sysadmin-evolution-cryptopay.dev.kube
    certSecretName: dev
    backendServiceName: cpservice
    backendServicePort: 8081
    backendServiceInsecure: yes
  Dashboard:
    type: internal
    domain: dashboard-evolution-cryptopay.dev.kube
    certSecretName: dev
    backendCaSecretName: ca-secret
    backendServiceName: cpservice
    backendServicePort: 8082
  Landing:
    type: internal
    domain: evolution-cryptopay.dev.kube
    certSecretName: dev
    backendServiceName: cpservice
    backendServicePort: 80
    backendServiceInsecure: yes